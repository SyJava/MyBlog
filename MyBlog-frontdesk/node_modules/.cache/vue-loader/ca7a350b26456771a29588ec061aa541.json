{"remainingRequest":"E:\\实战项目\\VueAdmin\\VueAdmin\\vueadmin-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\实战项目\\VueAdmin\\VueAdmin\\vueadmin-vue\\src\\views\\sys\\Menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\实战项目\\VueAdmin\\VueAdmin\\vueadmin-vue\\src\\views\\sys\\Menu.vue","mtime":1620452822495},{"path":"E:\\实战项目\\VueAdmin\\VueAdmin\\vueadmin-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\实战项目\\VueAdmin\\VueAdmin\\vueadmin-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\实战项目\\VueAdmin\\VueAdmin\\vueadmin-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\实战项目\\VueAdmin\\VueAdmin\\vueadmin-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6ICJNZW51IiwKCWRhdGEoKSB7CgkJcmV0dXJuIHsKCQkJZGlhbG9nVmlzaWJsZTogZmFsc2UsCgkJCWVkaXRGb3JtOiB7CgoJCQl9LAoJCQllZGl0Rm9ybVJ1bGVzOiB7CgkJCQlwYXJlbnRJZDogWwoJCQkJCXtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqeS4iue6p+iPnOWNlScsIHRyaWdnZXI6ICdibHVyJ30KCQkJCV0sCgkJCQluYW1lOiBbCgkJCQkJe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5ZCN56ewJywgdHJpZ2dlcjogJ2JsdXInfQoJCQkJXSwKCQkJCXBlcm1zOiBbCgkJCQkJe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5p2D6ZmQ57yW56CBJywgdHJpZ2dlcjogJ2JsdXInfQoJCQkJXSwKCQkJCXR5cGU6IFsKCQkJCQl7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nnirbmgIEnLCB0cmlnZ2VyOiAnYmx1cid9CgkJCQldLAoJCQkJb3JkZXJOdW06IFsKCQkJCQl7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7floavlhaXmjpLluo/lj7cnLCB0cmlnZ2VyOiAnYmx1cid9CgkJCQldLAoJCQkJc3RhdHU6IFsKCQkJCQl7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nnirbmgIEnLCB0cmlnZ2VyOiAnYmx1cid9CgkJCQldCgkJCX0sCgkJCXRhYmxlRGF0YTogW10KCQl9Cgl9LAoJY3JlYXRlZCgpIHsKCQl0aGlzLmdldE1lbnVUcmVlKCkKCX0sCgltZXRob2RzOiB7CgkJZ2V0TWVudVRyZWUoKSB7CgkJCXRoaXMuJGF4aW9zLmdldCgiL3N5cy9tZW51L2xpc3QiKS50aGVuKHJlcyA9PiB7CgkJCQl0aGlzLnRhYmxlRGF0YSA9IHJlcy5kYXRhLmRhdGEKCQkJfSkKCQl9LAoJCXN1Ym1pdEZvcm0oZm9ybU5hbWUpIHsKCQkJdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoKHZhbGlkKSA9PiB7CgkJCQlpZiAodmFsaWQpIHsKCQkJCQl0aGlzLiRheGlvcy5wb3N0KCcvc3lzL21lbnUvJyArICh0aGlzLmVkaXRGb3JtLmlkPyd1cGRhdGUnIDogJ3NhdmUnKSwgdGhpcy5lZGl0Rm9ybSkKCQkJCQkJLnRoZW4ocmVzID0+IHsKCgkJCQkJCQl0aGlzLiRtZXNzYWdlKHsKCQkJCQkJCQlzaG93Q2xvc2U6IHRydWUsCgkJCQkJCQkJbWVzc2FnZTogJ+aBreWWnOS9oO+8jOaTjeS9nOaIkOWKnycsCgkJCQkJCQkJdHlwZTogJ3N1Y2Nlc3MnLAoJCQkJCQkJCW9uQ2xvc2U6KCkgPT4gewoJCQkJCQkJCQl0aGlzLmdldE1lbnVUcmVlKCkKCQkJCQkJCQl9CgkJCQkJCQl9KTsKCgkJCQkJCQl0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZQoJCQkJCX0pCgkJCQl9IGVsc2UgewoJCQkJCWNvbnNvbGUubG9nKCdlcnJvciBzdWJtaXQhIScpOwoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0KCQkJfSk7CgkJfSwKCQllZGl0SGFuZGxlKGlkKSB7CgkJCXRoaXMuJGF4aW9zLmdldCgnL3N5cy9tZW51L2luZm8vJyArIGlkKS50aGVuKHJlcyA9PiB7CgkJCQl0aGlzLmVkaXRGb3JtID0gcmVzLmRhdGEuZGF0YQoKCQkJCXRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWUKCQkJfSkKCQl9LAoJCXJlc2V0Rm9ybShmb3JtTmFtZSkgewoJCQl0aGlzLiRyZWZzW2Zvcm1OYW1lXS5yZXNldEZpZWxkcygpOwoJCQl0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZQoJCQl0aGlzLmVkaXRGb3JtID0ge30KCQl9LAoJCWhhbmRsZUNsb3NlKCkgewoJCQl0aGlzLnJlc2V0Rm9ybSgnZWRpdEZvcm0nKQoJCX0sCgkJZGVsSGFuZGxlKGlkKSB7CgkJCXRoaXMuJGF4aW9zLnBvc3QoIi9zeXMvbWVudS9kZWxldGUvIiArIGlkKS50aGVuKHJlcyA9PiB7CgkJCQl0aGlzLiRtZXNzYWdlKHsKCQkJCQlzaG93Q2xvc2U6IHRydWUsCgkJCQkJbWVzc2FnZTogJ+aBreWWnOS9oO+8jOaTjeS9nOaIkOWKnycsCgkJCQkJdHlwZTogJ3N1Y2Nlc3MnLAoJCQkJCW9uQ2xvc2U6KCkgPT4gewoJCQkJCQl0aGlzLmdldE1lbnVUcmVlKCkKCQkJCQl9CgkJCQl9KTsKCgkJCX0pCgkJfQoJfQp9Cg=="},{"version":3,"sources":["Menu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmKA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Menu.vue","sourceRoot":"src/views/sys","sourcesContent":["<template>\r\n\t<div>\r\n\r\n\t\t<el-form :inline=\"true\">\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"dialogVisible = true\">新增</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\r\n\t\t<el-table\r\n\t\t\t\t:data=\"tableData\"\r\n\t\t\t\tstyle=\"width: 100%;margin-bottom: 20px;\"\r\n\t\t\t\trow-key=\"id\"\r\n\t\t\t\tborder\r\n\t\t\t\tstripe\r\n\t\t\t\tdefault-expand-all\r\n\t\t\t\t:tree-props=\"{children: 'children', hasChildren: 'hasChildren'}\">\r\n\r\n\t\t\t<el-table-column\r\n\t\t\t\t\tprop=\"name\"\r\n\t\t\t\t\tlabel=\"名称\"\r\n\t\t\t\t\tsortable\r\n\t\t\t\t\twidth=\"180\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\t\t\tprop=\"perms\"\r\n\t\t\t\t\tlabel=\"权限编码\"\r\n\t\t\t\t\tsortable\r\n\t\t\t\t\twidth=\"180\">\r\n\t\t\t</el-table-column>\r\n\r\n\t\t\t<el-table-column\r\n\t\t\t\t\tprop=\"icon\"\r\n\t\t\t\t\tlabel=\"图标\">\r\n\t\t\t</el-table-column>\r\n\r\n\t\t\t<el-table-column\r\n\t\t\t\t\tprop=\"type\"\r\n\t\t\t\t\tlabel=\"类型\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-tag size=\"small\" v-if=\"scope.row.type === 0\">目录</el-tag>\r\n\t\t\t\t\t<el-tag size=\"small\" v-else-if=\"scope.row.type === 1\" type=\"success\">菜单</el-tag>\r\n\t\t\t\t\t<el-tag size=\"small\" v-else-if=\"scope.row.type === 2\" type=\"info\">按钮</el-tag>\r\n\t\t\t\t</template>\r\n\r\n\t\t\t</el-table-column>\r\n\r\n\t\t\t<el-table-column\r\n\t\t\t\t\tprop=\"path\"\r\n\t\t\t\t\tlabel=\"菜单URL\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\t\t\tprop=\"component\"\r\n\t\t\t\t\tlabel=\"菜单组件\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\t\t\tprop=\"orderNum\"\r\n\t\t\t\t\tlabel=\"排序号\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\t\t\tprop=\"statu\"\r\n\t\t\t\t\tlabel=\"状态\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-tag size=\"small\" v-if=\"scope.row.statu === 1\" type=\"success\">正常</el-tag>\r\n\t\t\t\t\t<el-tag size=\"small\" v-else-if=\"scope.row.statu === 0\" type=\"danger\">禁用</el-tag>\r\n\t\t\t\t</template>\r\n\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\t\t\tprop=\"icon\"\r\n\t\t\t\t\tlabel=\"操作\">\r\n\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-button type=\"text\" @click=\"editHandle(scope.row.id)\">编辑</el-button>\r\n\t\t\t\t\t<el-divider direction=\"vertical\"></el-divider>\r\n\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<el-popconfirm title=\"这是一段内容确定删除吗？\" @confirm=\"delHandle(scope.row.id)\">\r\n\t\t\t\t\t\t\t<el-button type=\"text\" slot=\"reference\">删除</el-button>\r\n\t\t\t\t\t\t</el-popconfirm>\r\n\t\t\t\t\t</template>\r\n\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\r\n\t\t</el-table>\r\n\r\n\r\n\t\t<!--新增对话框-->\r\n\t\t<el-dialog\r\n\t\t\t\ttitle=\"提示\"\r\n\t\t\t\t:visible.sync=\"dialogVisible\"\r\n\t\t\t\twidth=\"600px\"\r\n\t\t\t\t:before-close=\"handleClose\">\r\n\r\n\t\t\t<el-form :model=\"editForm\" :rules=\"editFormRules\" ref=\"editForm\" label-width=\"100px\" class=\"demo-editForm\">\r\n\r\n\t\t\t\t<el-form-item label=\"上级菜单\" prop=\"parentId\">\r\n\t\t\t\t\t<el-select v-model=\"editForm.parentId\" placeholder=\"请选择上级菜单\">\r\n\t\t\t\t\t\t<template v-for=\"item in tableData\">\r\n\t\t\t\t\t\t\t<el-option :label=\"item.name\" :value=\"item.id\"></el-option>\r\n\t\t\t\t\t\t\t<template v-for=\"child in item.children\">\r\n\t\t\t\t\t\t\t\t<el-option :label=\"child.name\" :value=\"child.id\">\r\n\t\t\t\t\t\t\t\t\t<span>{{ \"- \" + child.name }}</span>\r\n\t\t\t\t\t\t\t\t</el-option>\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</el-select>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item label=\"菜单名称\" prop=\"name\" label-width=\"100px\">\r\n\t\t\t\t\t<el-input v-model=\"editForm.name\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item label=\"权限编码\" prop=\"perms\" label-width=\"100px\">\r\n\t\t\t\t\t<el-input v-model=\"editForm.perms\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item label=\"图标\" prop=\"icon\" label-width=\"100px\">\r\n\t\t\t\t\t<el-input v-model=\"editForm.icon\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"菜单URL\" prop=\"path\" label-width=\"100px\">\r\n\t\t\t\t\t<el-input v-model=\"editForm.path\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item label=\"菜单组件\" prop=\"component\" label-width=\"100px\">\r\n\t\t\t\t\t<el-input v-model=\"editForm.component\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item label=\"类型\" prop=\"type\" label-width=\"100px\">\r\n\t\t\t\t\t<el-radio-group v-model=\"editForm.type\">\r\n\t\t\t\t\t\t<el-radio :label=0>目录</el-radio>\r\n\t\t\t\t\t\t<el-radio :label=1>菜单</el-radio>\r\n\t\t\t\t\t\t<el-radio :label=2>按钮</el-radio>\r\n\t\t\t\t\t</el-radio-group>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item label=\"状态\" prop=\"statu\" label-width=\"100px\">\r\n\t\t\t\t\t<el-radio-group v-model=\"editForm.statu\">\r\n\t\t\t\t\t\t<el-radio :label=0>禁用</el-radio>\r\n\t\t\t\t\t\t<el-radio :label=1>正常</el-radio>\r\n\t\t\t\t\t</el-radio-group>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item label=\"排序号\" prop=\"orderNum\" label-width=\"100px\">\r\n\t\t\t\t\t<el-input-number v-model=\"editForm.orderNum\" :min=\"1\" label=\"排序号\">1</el-input-number>\r\n\t\t\t\t</el-form-item>\r\n\r\n\r\n\t\t\t\t<el-form-item>\r\n\t\t\t\t\t<el-button type=\"primary\" @click=\"submitForm('editForm')\">立即创建</el-button>\r\n\t\t\t\t\t<el-button @click=\"resetForm('editForm')\">重置</el-button>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\r\n\t\t</el-dialog>\r\n\r\n\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: \"Menu\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdialogVisible: false,\r\n\t\t\t\teditForm: {\r\n\r\n\t\t\t\t},\r\n\t\t\t\teditFormRules: {\r\n\t\t\t\t\tparentId: [\r\n\t\t\t\t\t\t{required: true, message: '请选择上级菜单', trigger: 'blur'}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tname: [\r\n\t\t\t\t\t\t{required: true, message: '请输入名称', trigger: 'blur'}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tperms: [\r\n\t\t\t\t\t\t{required: true, message: '请输入权限编码', trigger: 'blur'}\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttype: [\r\n\t\t\t\t\t\t{required: true, message: '请选择状态', trigger: 'blur'}\r\n\t\t\t\t\t],\r\n\t\t\t\t\torderNum: [\r\n\t\t\t\t\t\t{required: true, message: '请填入排序号', trigger: 'blur'}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tstatu: [\r\n\t\t\t\t\t\t{required: true, message: '请选择状态', trigger: 'blur'}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\ttableData: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getMenuTree()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetMenuTree() {\r\n\t\t\t\tthis.$axios.get(\"/sys/menu/list\").then(res => {\r\n\t\t\t\t\tthis.tableData = res.data.data\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsubmitForm(formName) {\r\n\t\t\t\tthis.$refs[formName].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tthis.$axios.post('/sys/menu/' + (this.editForm.id?'update' : 'save'), this.editForm)\r\n\t\t\t\t\t\t\t.then(res => {\r\n\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t\t\t\tmessage: '恭喜你，操作成功',\r\n\t\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\t\tonClose:() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.getMenuTree()\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\tthis.dialogVisible = false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log('error submit!!');\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\teditHandle(id) {\r\n\t\t\t\tthis.$axios.get('/sys/menu/info/' + id).then(res => {\r\n\t\t\t\t\tthis.editForm = res.data.data\r\n\r\n\t\t\t\t\tthis.dialogVisible = true\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tresetForm(formName) {\r\n\t\t\t\tthis.$refs[formName].resetFields();\r\n\t\t\t\tthis.dialogVisible = false\r\n\t\t\t\tthis.editForm = {}\r\n\t\t\t},\r\n\t\t\thandleClose() {\r\n\t\t\t\tthis.resetForm('editForm')\r\n\t\t\t},\r\n\t\t\tdelHandle(id) {\r\n\t\t\t\tthis.$axios.post(\"/sys/menu/delete/\" + id).then(res => {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\tmessage: '恭喜你，操作成功',\r\n\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\tonClose:() => {\r\n\t\t\t\t\t\t\tthis.getMenuTree()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}