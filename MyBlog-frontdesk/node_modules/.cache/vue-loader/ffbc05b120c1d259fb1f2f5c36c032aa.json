{"remainingRequest":"D:\\JAVA文件\\项目\\MyBlog\\vueadmin-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\JAVA文件\\项目\\MyBlog\\vueadmin-vue\\src\\views\\sys\\User.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\JAVA文件\\项目\\MyBlog\\vueadmin-vue\\src\\views\\sys\\User.vue","mtime":1620452822495},{"path":"D:\\JAVA文件\\项目\\MyBlog\\vueadmin-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JAVA文件\\项目\\MyBlog\\vueadmin-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\JAVA文件\\项目\\MyBlog\\vueadmin-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JAVA文件\\项目\\MyBlog\\vueadmin-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKCW5hbWU6ICJSb2xlIiwKCWRhdGEoKSB7CgkJcmV0dXJuIHsKCQkJc2VhcmNoRm9ybToge30sCgkJCWRlbEJ0bFN0YXR1OiB0cnVlLAoKCQkJdG90YWw6IDAsCgkJCXNpemU6IDEwLAoJCQljdXJyZW50OiAxLAoKCQkJZGlhbG9nVmlzaWJsZTogZmFsc2UsCgkJCWVkaXRGb3JtOiB7CgoJCQl9LAoKCQkJdGFibGVEYXRhOiBbXSwKCgkJCWVkaXRGb3JtUnVsZXM6IHsKCQkJCXVzZXJuYW1lOiBbCgkJCQkJe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl55So5oi35ZCN56ewJywgdHJpZ2dlcjogJ2JsdXInfQoJCQkJXSwKCQkJCWVtYWlsOiBbCgkJCQkJe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl6YKu566xJywgdHJpZ2dlcjogJ2JsdXInfQoJCQkJXSwKCQkJCXN0YXR1OiBbCgkJCQkJe3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup54q25oCBJywgdHJpZ2dlcjogJ2JsdXInfQoJCQkJXQoJCQl9LAoKCQkJbXVsdGlwbGVTZWxlY3Rpb246IFtdLAoKCQkJcm9sZURpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwKCQkJZGVmYXVsdFByb3BzOiB7CgkJCQljaGlsZHJlbjogJ2NoaWxkcmVuJywKCQkJCWxhYmVsOiAnbmFtZScKCQkJfSwKCQkJcm9sZUZvcm06IHt9LAoJCQlyb2xlVHJlZURhdGE6ICBbXSwKCQkJdHJlZUNoZWNrZWRLZXlzOiBbXSwKCQkJY2hlY2tTdHJpY3RseTogdHJ1ZQoKCQl9Cgl9LAoJY3JlYXRlZCgpIHsKCQl0aGlzLmdldFVzZXJMaXN0KCkKCgkJdGhpcy4kYXhpb3MuZ2V0KCIvc3lzL3JvbGUvbGlzdCIpLnRoZW4ocmVzID0+IHsKCQkJdGhpcy5yb2xlVHJlZURhdGEgPSByZXMuZGF0YS5kYXRhLnJlY29yZHMKCQl9KQoJfSwKCW1ldGhvZHM6IHsKCQl0b2dnbGVTZWxlY3Rpb24ocm93cykgewoJCQlpZiAocm93cykgewoJCQkJcm93cy5mb3JFYWNoKHJvdyA9PiB7CgkJCQkJdGhpcy4kcmVmcy5tdWx0aXBsZVRhYmxlLnRvZ2dsZVJvd1NlbGVjdGlvbihyb3cpOwoJCQkJfSk7CgkJCX0gZWxzZSB7CgkJCQl0aGlzLiRyZWZzLm11bHRpcGxlVGFibGUuY2xlYXJTZWxlY3Rpb24oKTsKCQkJfQoJCX0sCgkJaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHZhbCkgewoJCQljb25zb2xlLmxvZygi5Yu+6YCJIikKCQkJY29uc29sZS5sb2codmFsKQoJCQl0aGlzLm11bHRpcGxlU2VsZWN0aW9uID0gdmFsOwoKCQkJdGhpcy5kZWxCdGxTdGF0dSA9IHZhbC5sZW5ndGggPT0gMAoJCX0sCgoJCWhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CgkJCWNvbnNvbGUubG9nKGDmr4/pobUgJHt2YWx9IOadoWApOwoJCQl0aGlzLnNpemUgPSB2YWwKCQkJdGhpcy5nZXRVc2VyTGlzdCgpCgkJfSwKCQloYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewoJCQljb25zb2xlLmxvZyhg5b2T5YmN6aG1OiAke3ZhbH1gKTsKCQkJdGhpcy5jdXJyZW50ID0gdmFsCgkJCXRoaXMuZ2V0VXNlckxpc3QoKQoJCX0sCgoJCXJlc2V0Rm9ybShmb3JtTmFtZSkgewoJCQl0aGlzLiRyZWZzW2Zvcm1OYW1lXS5yZXNldEZpZWxkcygpOwoJCQl0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZQoJCQl0aGlzLmVkaXRGb3JtID0ge30KCQl9LAoJCWhhbmRsZUNsb3NlKCkgewoJCQl0aGlzLnJlc2V0Rm9ybSgnZWRpdEZvcm0nKQoJCX0sCgoJCWdldFVzZXJMaXN0KCkgewoJCQl0aGlzLiRheGlvcy5nZXQoIi9zeXMvdXNlci9saXN0IiwgewoJCQkJcGFyYW1zOiB7CgkJCQkJdXNlcm5hbWU6IHRoaXMuc2VhcmNoRm9ybS51c2VybmFtZSwKCQkJCQljdXJyZW50OiB0aGlzLmN1cnJlbnQsCgkJCQkJc2l6ZTogdGhpcy5zaXplCgkJCQl9CgkJCX0pLnRoZW4ocmVzID0+IHsKCQkJCXRoaXMudGFibGVEYXRhID0gcmVzLmRhdGEuZGF0YS5yZWNvcmRzCgkJCQl0aGlzLnNpemUgPSByZXMuZGF0YS5kYXRhLnNpemUKCQkJCXRoaXMuY3VycmVudCA9IHJlcy5kYXRhLmRhdGEuY3VycmVudAoJCQkJdGhpcy50b3RhbCA9IHJlcy5kYXRhLmRhdGEudG90YWwKCQkJfSkKCQl9LAoKCQlzdWJtaXRGb3JtKGZvcm1OYW1lKSB7CgkJCXRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKCh2YWxpZCkgPT4gewoJCQkJaWYgKHZhbGlkKSB7CgkJCQkJdGhpcy4kYXhpb3MucG9zdCgnL3N5cy91c2VyLycgKyAodGhpcy5lZGl0Rm9ybS5pZD8ndXBkYXRlJyA6ICdzYXZlJyksIHRoaXMuZWRpdEZvcm0pCgkJCQkJCS50aGVuKHJlcyA9PiB7CgoJCQkJCQkJdGhpcy4kbWVzc2FnZSh7CgkJCQkJCQkJc2hvd0Nsb3NlOiB0cnVlLAoJCQkJCQkJCW1lc3NhZ2U6ICfmga3llpzkvaDvvIzmk43kvZzmiJDlip8nLAoJCQkJCQkJCXR5cGU6ICdzdWNjZXNzJywKCQkJCQkJCQlvbkNsb3NlOigpID0+IHsKCQkJCQkJCQkJdGhpcy5nZXRVc2VyTGlzdCgpCgkJCQkJCQkJfQoJCQkJCQkJfSk7CgoJCQkJCQkJdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2UKCQkJCQkJfSkKCQkJCX0gZWxzZSB7CgkJCQkJY29uc29sZS5sb2coJ2Vycm9yIHN1Ym1pdCEhJyk7CgkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJfQoJCQl9KTsKCQl9LAoJCWVkaXRIYW5kbGUoaWQpIHsKCQkJdGhpcy4kYXhpb3MuZ2V0KCcvc3lzL3VzZXIvaW5mby8nICsgaWQpLnRoZW4ocmVzID0+IHsKCQkJCXRoaXMuZWRpdEZvcm0gPSByZXMuZGF0YS5kYXRhCgoJCQkJdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZQoJCQl9KQoJCX0sCgkJZGVsSGFuZGxlKGlkKSB7CgoJCQl2YXIgaWRzID0gW10KCgkJCWlmIChpZCkgewoJCQkJaWRzLnB1c2goaWQpCgkJCX0gZWxzZSB7CgkJCQl0aGlzLm11bHRpcGxlU2VsZWN0aW9uLmZvckVhY2gocm93ID0+IHsKCQkJCQlpZHMucHVzaChyb3cuaWQpCgkJCQl9KQoJCQl9CgoJCQljb25zb2xlLmxvZyhpZHMpCgoJCQl0aGlzLiRheGlvcy5wb3N0KCIvc3lzL3VzZXIvZGVsZXRlIiwgaWRzKS50aGVuKHJlcyA9PiB7CgkJCQl0aGlzLiRtZXNzYWdlKHsKCQkJCQlzaG93Q2xvc2U6IHRydWUsCgkJCQkJbWVzc2FnZTogJ+aBreWWnOS9oO+8jOaTjeS9nOaIkOWKnycsCgkJCQkJdHlwZTogJ3N1Y2Nlc3MnLAoJCQkJCW9uQ2xvc2U6KCkgPT4gewoJCQkJCQl0aGlzLmdldFVzZXJMaXN0KCkKCQkJCQl9CgkJCQl9KTsKCQkJfSkKCQl9LAoKCQlyb2xlSGFuZGxlIChpZCkgewoJCQl0aGlzLnJvbGVEaWFsb2dGb3JtVmlzaWJsZSA9IHRydWUKCgkJCXRoaXMuJGF4aW9zLmdldCgnL3N5cy91c2VyL2luZm8vJyArIGlkKS50aGVuKHJlcyA9PiB7CgkJCQl0aGlzLnJvbGVGb3JtID0gcmVzLmRhdGEuZGF0YQoKCQkJCWxldCByb2xlSWRzID0gW10KCQkJCXJlcy5kYXRhLmRhdGEuc3lzUm9sZXMuZm9yRWFjaChyb3cgPT4gewoJCQkJCXJvbGVJZHMucHVzaChyb3cuaWQpCgkJCQl9KQoKCQkJCXRoaXMuJHJlZnMucm9sZVRyZWUuc2V0Q2hlY2tlZEtleXMocm9sZUlkcykKCQkJfSkKCQl9LAoJCXN1Ym1pdFJvbGVIYW5kbGUoZm9ybU5hbWUpIHsKCQkJdmFyIHJvbGVJZHMgPSB0aGlzLiRyZWZzLnJvbGVUcmVlLmdldENoZWNrZWRLZXlzKCkKCgkJCWNvbnNvbGUubG9nKHJvbGVJZHMpCgoJCQl0aGlzLiRheGlvcy5wb3N0KCcvc3lzL3VzZXIvcm9sZS8nICsgdGhpcy5yb2xlRm9ybS5pZCwgcm9sZUlkcykudGhlbihyZXMgPT4gewoJCQkJdGhpcy4kbWVzc2FnZSh7CgkJCQkJc2hvd0Nsb3NlOiB0cnVlLAoJCQkJCW1lc3NhZ2U6ICfmga3llpzkvaDvvIzmk43kvZzmiJDlip8nLAoJCQkJCXR5cGU6ICdzdWNjZXNzJywKCQkJCQlvbkNsb3NlOigpID0+IHsKCQkJCQkJdGhpcy5nZXRVc2VyTGlzdCgpCgkJCQkJfQoJCQkJfSk7CgoJCQkJdGhpcy5yb2xlRGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZQoJCQl9KQoJCX0sCgkJcmVwYXNzSGFuZGxlKGlkLCB1c2VybmFtZSkgewoKCQkJdGhpcy4kY29uZmlybSgn5bCG6YeN572u55So5oi344CQJyArIHVzZXJuYW1lICsgJ+OAkeeahOWvhueggSwg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7CgkJCQljb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCgkJCQljYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKCQkJCXR5cGU6ICd3YXJuaW5nJwoJCQl9KS50aGVuKCgpID0+IHsKCQkJCXRoaXMuJGF4aW9zLnBvc3QoIi9zeXMvdXNlci9yZXBhc3MiLCBpZCkudGhlbihyZXMgPT4gewoJCQkJCXRoaXMuJG1lc3NhZ2UoewoJCQkJCQlzaG93Q2xvc2U6IHRydWUsCgkJCQkJCW1lc3NhZ2U6ICfmga3llpzkvaDvvIzmk43kvZzmiJDlip8nLAoJCQkJCQl0eXBlOiAnc3VjY2VzcycsCgkJCQkJCW9uQ2xvc2U6ICgpID0+IHsKCQkJCQkJfQoJCQkJCX0pOwoJCQkJfSkKCQkJfSkKCQl9Cgl9Cn0K"},{"version":3,"sources":["User.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0LA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"User.vue","sourceRoot":"src/views/sys","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-form :inline=\"true\">\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-input\r\n\t\t\t\t\t\tv-model=\"searchForm.username\"\r\n\t\t\t\t\t\tplaceholder=\"用户名\"\r\n\t\t\t\t\t\tclearable\r\n\t\t\t\t>\r\n\t\t\t\t</el-input>\r\n\t\t\t</el-form-item>\r\n\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-button @click=\"getUserList\">搜索</el-button>\r\n\t\t\t</el-form-item>\r\n\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"dialogVisible = true\" v-if=\"hasAuth('sys:user:save')\">新增</el-button>\r\n\t\t\t</el-form-item>\r\n\t\t\t<el-form-item>\r\n\t\t\t\t<el-popconfirm title=\"这是确定批量删除吗？\" @confirm=\"delHandle(null)\">\r\n\t\t\t\t\t<el-button type=\"danger\" slot=\"reference\" :disabled=\"delBtlStatu\" v-if=\"hasAuth('sys:user:delete')\">批量删除</el-button>\r\n\t\t\t\t</el-popconfirm>\r\n\t\t\t</el-form-item>\r\n\t\t</el-form>\r\n\r\n\t\t<el-table\r\n\t\t\t\tref=\"multipleTable\"\r\n\t\t\t\t:data=\"tableData\"\r\n\t\t\t\ttooltip-effect=\"dark\"\r\n\t\t\t\tstyle=\"width: 100%\"\r\n\t\t\t\tborder\r\n\t\t\t\tstripe\r\n\t\t\t\t@selection-change=\"handleSelectionChange\">\r\n\r\n\t\t\t<el-table-column\r\n\t\t\t\t\ttype=\"selection\"\r\n\t\t\t\t\twidth=\"55\">\r\n\t\t\t</el-table-column>\r\n\r\n\t\t\t<el-table-column\r\n\t\t\t\t\tlabel=\"头像\"\r\n\t\t\t\t\twidth=\"50\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-avatar size=\"small\" :src=\"scope.row.avatar\"></el-avatar>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\r\n\t\t\t<el-table-column\r\n\t\t\t\t\tprop=\"username\"\r\n\t\t\t\t\tlabel=\"用户名\"\r\n\t\t\t\t\twidth=\"120\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\t\t\tprop=\"code\"\r\n\t\t\t\t\tlabel=\"角色名称\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-tag size=\"small\" type=\"info\" v-for=\"item in scope.row.sysRoles\">{{item.name}}</el-tag>\r\n\t\t\t\t</template>\r\n\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\t\t\tprop=\"email\"\r\n\t\t\t\t\tlabel=\"邮箱\">\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\t\t\tprop=\"phone\"\r\n\t\t\t\t\tlabel=\"手机号\">\r\n\t\t\t</el-table-column>\r\n\r\n\t\t\t<el-table-column\r\n\t\t\t\t\tprop=\"statu\"\r\n\t\t\t\t\tlabel=\"状态\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-tag size=\"small\" v-if=\"scope.row.statu === 1\" type=\"success\">正常</el-tag>\r\n\t\t\t\t\t<el-tag size=\"small\" v-else-if=\"scope.row.statu === 0\" type=\"danger\">禁用</el-tag>\r\n\t\t\t\t</template>\r\n\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\t\t\tprop=\"created\"\r\n\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\tlabel=\"创建时间\"\r\n\t\t\t>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\t\t\tprop=\"icon\"\r\n\t\t\t\t\twidth=\"260px\"\r\n\t\t\t\t\tlabel=\"操作\">\r\n\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-button type=\"text\" @click=\"roleHandle(scope.row.id)\">分配角色</el-button>\r\n\t\t\t\t\t<el-divider direction=\"vertical\"></el-divider>\r\n\r\n\t\t\t\t\t<el-button type=\"text\" @click=\"repassHandle(scope.row.id, scope.row.username)\">重置密码</el-button>\r\n\t\t\t\t\t<el-divider direction=\"vertical\"></el-divider>\r\n\r\n\t\t\t\t\t<el-button type=\"text\" @click=\"editHandle(scope.row.id)\">编辑</el-button>\r\n\t\t\t\t\t<el-divider direction=\"vertical\"></el-divider>\r\n\r\n\t\t\t\t\t<template>\r\n\t\t\t\t\t\t<el-popconfirm title=\"这是一段内容确定删除吗？\" @confirm=\"delHandle(scope.row.id)\">\r\n\t\t\t\t\t\t\t<el-button type=\"text\" slot=\"reference\">删除</el-button>\r\n\t\t\t\t\t\t</el-popconfirm>\r\n\t\t\t\t\t</template>\r\n\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\r\n\t\t</el-table>\r\n\r\n\t\t<el-pagination\r\n\t\t\t\t@size-change=\"handleSizeChange\"\r\n\t\t\t\t@current-change=\"handleCurrentChange\"\r\n\t\t\t\tlayout=\"total, sizes, prev, pager, next, jumper\"\r\n\t\t\t\t:page-sizes=\"[10, 20, 50, 100]\"\r\n\t\t\t\t:current-page=\"current\"\r\n\t\t\t\t:page-size=\"size\"\r\n\t\t\t\t:total=\"total\">\r\n\t\t</el-pagination>\r\n\r\n\r\n\t\t<!--新增对话框-->\r\n\t\t<el-dialog\r\n\t\t\t\ttitle=\"提示\"\r\n\t\t\t\t:visible.sync=\"dialogVisible\"\r\n\t\t\t\twidth=\"600px\"\r\n\t\t\t\t:before-close=\"handleClose\">\r\n\r\n\t\t\t<el-form :model=\"editForm\" :rules=\"editFormRules\" ref=\"editForm\">\r\n\t\t\t\t<el-form-item label=\"用户名\" prop=\"username\" label-width=\"100px\">\r\n\t\t\t\t\t<el-input v-model=\"editForm.username\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t\t<el-alert\r\n\t\t\t\t\t\t\ttitle=\"初始密码为888888\"\r\n\t\t\t\t\t\t\t:closable=\"false\"\r\n\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\tstyle=\"line-height: 12px;\"\r\n\t\t\t\t\t></el-alert>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item label=\"邮箱\"  prop=\"email\" label-width=\"100px\">\r\n\t\t\t\t\t<el-input v-model=\"editForm.email\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"手机号\"  prop=\"phone\" label-width=\"100px\">\r\n\t\t\t\t\t<el-input v-model=\"editForm.phone\" autocomplete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t\t<el-form-item label=\"状态\"  prop=\"statu\" label-width=\"100px\">\r\n\t\t\t\t\t<el-radio-group v-model=\"editForm.statu\">\r\n\t\t\t\t\t\t<el-radio :label=\"0\">禁用</el-radio>\r\n\t\t\t\t\t\t<el-radio :label=\"1\">正常</el-radio>\r\n\t\t\t\t\t</el-radio-group>\r\n\t\t\t\t</el-form-item>\r\n\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"resetForm('editForm')\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"submitForm('editForm')\">确 定</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\r\n\t\t<!-- 分配权限对话框 -->\r\n\t\t<el-dialog title=\"分配角色\" :visible.sync=\"roleDialogFormVisible\" width=\"600px\">\r\n\r\n\t\t\t<el-form :model=\"roleForm\">\r\n\t\t\t\t<el-tree\r\n\t\t\t\t\t\t:data=\"roleTreeData\"\r\n\t\t\t\t\t\tshow-checkbox\r\n\t\t\t\t\t\tref=\"roleTree\"\r\n\t\t\t\t\t\t:check-strictly=checkStrictly\r\n\t\t\t\t\t\tnode-key=\"id\"\r\n\t\t\t\t\t\t:default-expand-all=true\r\n\t\t\t\t\t\t:props=\"defaultProps\">\r\n\t\t\t\t</el-tree>\r\n\t\t\t</el-form>\r\n\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"roleDialogFormVisible=false\">取 消</el-button>\r\n\t\t\t\t<el-button type=\"primary\" @click=\"submitRoleHandle('roleForm')\">确 定</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: \"Role\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tsearchForm: {},\r\n\t\t\t\tdelBtlStatu: true,\r\n\r\n\t\t\t\ttotal: 0,\r\n\t\t\t\tsize: 10,\r\n\t\t\t\tcurrent: 1,\r\n\r\n\t\t\t\tdialogVisible: false,\r\n\t\t\t\teditForm: {\r\n\r\n\t\t\t\t},\r\n\r\n\t\t\t\ttableData: [],\r\n\r\n\t\t\t\teditFormRules: {\r\n\t\t\t\t\tusername: [\r\n\t\t\t\t\t\t{required: true, message: '请输入用户名称', trigger: 'blur'}\r\n\t\t\t\t\t],\r\n\t\t\t\t\temail: [\r\n\t\t\t\t\t\t{required: true, message: '请输入邮箱', trigger: 'blur'}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tstatu: [\r\n\t\t\t\t\t\t{required: true, message: '请选择状态', trigger: 'blur'}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\r\n\t\t\t\tmultipleSelection: [],\r\n\r\n\t\t\t\troleDialogFormVisible: false,\r\n\t\t\t\tdefaultProps: {\r\n\t\t\t\t\tchildren: 'children',\r\n\t\t\t\t\tlabel: 'name'\r\n\t\t\t\t},\r\n\t\t\t\troleForm: {},\r\n\t\t\t\troleTreeData:  [],\r\n\t\t\t\ttreeCheckedKeys: [],\r\n\t\t\t\tcheckStrictly: true\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getUserList()\r\n\r\n\t\t\tthis.$axios.get(\"/sys/role/list\").then(res => {\r\n\t\t\t\tthis.roleTreeData = res.data.data.records\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\ttoggleSelection(rows) {\r\n\t\t\t\tif (rows) {\r\n\t\t\t\t\trows.forEach(row => {\r\n\t\t\t\t\t\tthis.$refs.multipleTable.toggleRowSelection(row);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$refs.multipleTable.clearSelection();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thandleSelectionChange(val) {\r\n\t\t\t\tconsole.log(\"勾选\")\r\n\t\t\t\tconsole.log(val)\r\n\t\t\t\tthis.multipleSelection = val;\r\n\r\n\t\t\t\tthis.delBtlStatu = val.length == 0\r\n\t\t\t},\r\n\r\n\t\t\thandleSizeChange(val) {\r\n\t\t\t\tconsole.log(`每页 ${val} 条`);\r\n\t\t\t\tthis.size = val\r\n\t\t\t\tthis.getUserList()\r\n\t\t\t},\r\n\t\t\thandleCurrentChange(val) {\r\n\t\t\t\tconsole.log(`当前页: ${val}`);\r\n\t\t\t\tthis.current = val\r\n\t\t\t\tthis.getUserList()\r\n\t\t\t},\r\n\r\n\t\t\tresetForm(formName) {\r\n\t\t\t\tthis.$refs[formName].resetFields();\r\n\t\t\t\tthis.dialogVisible = false\r\n\t\t\t\tthis.editForm = {}\r\n\t\t\t},\r\n\t\t\thandleClose() {\r\n\t\t\t\tthis.resetForm('editForm')\r\n\t\t\t},\r\n\r\n\t\t\tgetUserList() {\r\n\t\t\t\tthis.$axios.get(\"/sys/user/list\", {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tusername: this.searchForm.username,\r\n\t\t\t\t\t\tcurrent: this.current,\r\n\t\t\t\t\t\tsize: this.size\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.tableData = res.data.data.records\r\n\t\t\t\t\tthis.size = res.data.data.size\r\n\t\t\t\t\tthis.current = res.data.data.current\r\n\t\t\t\t\tthis.total = res.data.data.total\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tsubmitForm(formName) {\r\n\t\t\t\tthis.$refs[formName].validate((valid) => {\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tthis.$axios.post('/sys/user/' + (this.editForm.id?'update' : 'save'), this.editForm)\r\n\t\t\t\t\t\t\t.then(res => {\r\n\r\n\t\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t\t\t\tmessage: '恭喜你，操作成功',\r\n\t\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\t\tonClose:() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.getUserList()\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\tthis.dialogVisible = false\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log('error submit!!');\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\teditHandle(id) {\r\n\t\t\t\tthis.$axios.get('/sys/user/info/' + id).then(res => {\r\n\t\t\t\t\tthis.editForm = res.data.data\r\n\r\n\t\t\t\t\tthis.dialogVisible = true\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdelHandle(id) {\r\n\r\n\t\t\t\tvar ids = []\r\n\r\n\t\t\t\tif (id) {\r\n\t\t\t\t\tids.push(id)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.multipleSelection.forEach(row => {\r\n\t\t\t\t\t\tids.push(row.id)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(ids)\r\n\r\n\t\t\t\tthis.$axios.post(\"/sys/user/delete\", ids).then(res => {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\tmessage: '恭喜你，操作成功',\r\n\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\tonClose:() => {\r\n\t\t\t\t\t\t\tthis.getUserList()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\troleHandle (id) {\r\n\t\t\t\tthis.roleDialogFormVisible = true\r\n\r\n\t\t\t\tthis.$axios.get('/sys/user/info/' + id).then(res => {\r\n\t\t\t\t\tthis.roleForm = res.data.data\r\n\r\n\t\t\t\t\tlet roleIds = []\r\n\t\t\t\t\tres.data.data.sysRoles.forEach(row => {\r\n\t\t\t\t\t\troleIds.push(row.id)\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tthis.$refs.roleTree.setCheckedKeys(roleIds)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsubmitRoleHandle(formName) {\r\n\t\t\t\tvar roleIds = this.$refs.roleTree.getCheckedKeys()\r\n\r\n\t\t\t\tconsole.log(roleIds)\r\n\r\n\t\t\t\tthis.$axios.post('/sys/user/role/' + this.roleForm.id, roleIds).then(res => {\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\tmessage: '恭喜你，操作成功',\r\n\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\tonClose:() => {\r\n\t\t\t\t\t\t\tthis.getUserList()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tthis.roleDialogFormVisible = false\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\trepassHandle(id, username) {\r\n\r\n\t\t\t\tthis.$confirm('将重置用户【' + username + '】的密码, 是否继续?', '提示', {\r\n\t\t\t\t\tconfirmButtonText: '确定',\r\n\t\t\t\t\tcancelButtonText: '取消',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tthis.$axios.post(\"/sys/user/repass\", id).then(res => {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t\tmessage: '恭喜你，操作成功',\r\n\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\tonClose: () => {\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n\t.el-pagination {\r\n\t\tfloat: right;\r\n\t\tmargin-top: 22px;\r\n\t}\r\n\r\n</style>"]}]}